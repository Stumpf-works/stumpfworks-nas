# StumpfWorks NAS Apps Repository Template

This directory contains the complete template and setup files for creating the official **stumpfworks-nas-apps** repository on GitHub.

---

## ðŸŽ¯ Purpose

This template is used to create: **https://github.com/Stumpf-works/stumpfworks-nas-apps**

The apps repository is the central plugin registry that StumpfWorks NAS instances query to discover, install, and update plugins (similar to npm, pip, or Docker Hub).

---

## ðŸ“¦ Contents

### Main Files
- **START_HERE.md** - Start here for setup instructions
- **README.md** - Repository overview (user-facing)
- **CONTRIBUTING.md** - Plugin contribution guidelines
- **SETUP_INSTRUCTIONS.md** - Detailed setup walkthrough
- **registry.json** - Plugin registry index (autogenerated)

### Claude Code Integration
- **QUICK_START_PROMPT.txt** - Quick session starter (copy-paste at session start)
- **SESSION_PROMPT.md** - Detailed repository workflows
- **CLAUDE_CODE_MASTER_PROMPT.md** - Full StumpfWorks NAS architecture
- **HOW_TO_USE_PROMPTS.md** - Guide to using the prompt system

### Automation
- **.github/workflows/** - CI/CD automation
  - `validate-plugins.yml` - Plugin validation on PRs
  - `update-registry.yml` - Auto-update registry.json
- **scripts/** - Python automation scripts
  - `generate-registry.py` - Generate registry from plugins
  - `validate-plugins.py` - Validate plugin manifests

### Templates
- **templates/** - Plugin starter templates
  - `docker-plugin/` - Docker-based plugin template

---

## ðŸš€ How to Use This Template

### Option 1: Create New Repository from This Template

```bash
# 1. Create new GitHub repository: stumpfworks-nas-apps
# On GitHub: New Repository â†’ stumpfworks-nas-apps

# 2. Copy this template to a clean directory
cp -r apps-repository-template/ /path/to/new/repo/

# 3. Initialize and push
cd /path/to/new/repo/
git init
git add .
git commit -m "Initial commit: StumpfWorks NAS Apps repository"
git remote add origin https://github.com/Stumpf-works/stumpfworks-nas-apps.git
git branch -M main
git push -u origin main
```

### Option 2: Quick Setup Script

```bash
# Run the setup script (create this if needed)
./setup-apps-repo.sh
```

---

## ðŸ“š What Gets Created

When you set up the apps repository from this template, you get:

### For Users
- Plugin browsing and discovery
- One-click installation via UI
- Automatic updates
- Plugin ratings and reviews (future)

### For Developers
- Clear contribution guidelines
- Plugin templates
- Automated validation
- CI/CD pipelines

### For Claude Code
- Complete context system
- Repository workflows
- NAS architecture reference
- Best practices

---

## ðŸ”— Integration with StumpfWorks NAS

The main NAS repository (`stumpfworks-nas`) contains the **Plugin Registry System** that:

1. Fetches `registry.json` from the apps repository
2. Caches plugin metadata
3. Downloads and installs plugins
4. Manages updates

**Backend Files** (already in main repo):
- `backend/internal/plugins/registry.go` - Registry sync service
- `backend/internal/api/handlers/plugin_store.go` - Plugin store API
- `backend/internal/database/models/plugin_registry.go` - Database models

**API Endpoints**:
- `GET /api/v1/store/plugins` - List all plugins
- `POST /api/v1/store/plugins/{id}/install` - Install plugin
- `POST /api/v1/store/sync` - Sync registry

---

## ðŸ“‹ Next Steps After Setup

1. **Add Plugins**
   ```bash
   # Copy Asterisk VoIP plugin
   mkdir -p plugins
   cp -r ../plugins/asterisk-voip plugins/
   ```

2. **Create First Release**
   ```bash
   cd plugins/asterisk-voip
   tar czf ../../releases/asterisk-voip-v1.0.0-beta.tar.gz .
   ```

3. **Generate Registry**
   ```bash
   python3 scripts/generate-registry.py
   ```

4. **Push to GitHub**
   ```bash
   git add .
   git commit -m "Add: Asterisk VoIP plugin"
   git push
   ```

5. **Test from NAS**
   ```bash
   curl http://localhost:8080/api/v1/store/sync
   curl http://localhost:8080/api/v1/store/plugins
   ```

---

## ðŸŽ“ Documentation

- **START_HERE.md** - Begin here for setup
- **HOW_TO_USE_PROMPTS.md** - Learn the Claude Code prompt system
- **SESSION_PROMPT.md** - Repository workflows reference
- **CLAUDE_CODE_MASTER_PROMPT.md** - Full NAS architecture

---

## ðŸ”§ Maintenance

### Updating the Template

If you make improvements to the apps repository structure:

```bash
# Copy improvements back to this template
cp -r /path/to/apps-repo/* apps-repository-template/

# Commit to main repo
git add apps-repository-template/
git commit -m "Update: Apps repository template"
git push
```

---

## ðŸ“ž Support

- **Setup Help**: See SETUP_INSTRUCTIONS.md in this directory
- **Plugin Development**: Use Claude Code with provided prompts
- **Issues**: GitHub Issues (after apps repo is created)

---

## âœ… Checklist

Use this when setting up the apps repository:

- [ ] GitHub repository created (`stumpfworks-nas-apps`)
- [ ] Template files copied to new repo
- [ ] Initial commit pushed
- [ ] GitHub Actions workflows active
- [ ] First plugin added (optional)
- [ ] Registry generated
- [ ] Tested from StumpfWorks NAS

---

**Ready to create the apps repository?**

Follow the instructions in **START_HERE.md** inside this directory!

ðŸš€ **Happy Plugin Distribution!**
